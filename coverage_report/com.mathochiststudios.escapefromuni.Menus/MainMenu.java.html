<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>MainMenu.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">headless</a> &gt; <a href="index.source.html" class="el_package">com.mathochiststudios.escapefromuni.Menus</a> &gt; <span class="el_source">MainMenu.java</span></div><h1>MainMenu.java</h1><pre class="source lang-java linenums">package com.mathochiststudios.escapefromuni.Menus;

import com.badlogic.gdx.Gdx;
import com.badlogic.gdx.graphics.Color;
import com.badlogic.gdx.math.Vector2;
import com.badlogic.gdx.utils.ScreenUtils;
import com.badlogic.gdx.utils.viewport.FitViewport;
import com.mathochiststudios.escapefromuni.Tests.ISpriteBatch;
import com.mathochiststudios.escapefromuni.UI.Mouse;

public class MainMenu extends AbstractMenu{

<span class="fc" id="L13">    boolean wonLastGame = false;</span>
<span class="fc" id="L14">    int latestScore = -1;</span>

    public MainMenu(
            ISpriteBatch batch,
            FitViewport viewport,
            int latestScore,
            boolean wonLastGame,
            boolean buttonCD,
            Mouse mouse,
            MenuTextureManager textureManager
    ) {
<span class="fc" id="L25">        super(batch, viewport, buttonCD, mouse, textureManager);</span>
<span class="fc" id="L26">        this.latestScore = latestScore;</span>
<span class="fc" id="L27">        this.wonLastGame = wonLastGame;</span>
<span class="fc" id="L28">        textX=0;</span>
<span class="fc" id="L29">    }</span>

    @Override
    public void resetText() {
<span class="nc" id="L33">        this.textX = -400;</span>
<span class="nc" id="L34">        this.acceleration = 40;</span>
<span class="nc" id="L35">    }</span>


    @Override
    public String input() {
<span class="nc" id="L40">        mouse.update(viewport);</span>
<span class="nc bnc" id="L41" title="All 2 branches missed.">        if (Gdx.input.justTouched()) {</span>

            //Gdx.app.log(&quot;MyTag&quot;, mouseX + &quot; &quot; + mouseY);
            //Gdx.app.log(&quot;buttonxy&quot;, playButtonSprite.getBoundingRectangle().x+&quot; &quot;+playButtonSprite.getBoundingRectangle().y);

<span class="nc bnc" id="L46" title="All 2 branches missed.">            if (!buttonCD &amp;&amp;</span>
<span class="nc bnc" id="L47" title="All 2 branches missed.">                textureManager.getPlayButtonSprite().getBoundingRectangle().contains(</span>
<span class="nc" id="L48">                    new Vector2(mouse.getX(),mouse.getY())</span>
                )) {
<span class="nc" id="L50">                return &quot;Tutorial&quot;;</span>
            }

<span class="nc bnc" id="L53" title="All 2 branches missed.">            if (!buttonCD &amp;&amp;</span>
<span class="nc bnc" id="L54" title="All 2 branches missed.">                textureManager.getSettingsButtonSprite().getBoundingRectangle().contains(</span>
<span class="nc" id="L55">                    new Vector2(mouse.getX(),mouse.getY())</span>
                )) {
<span class="nc" id="L57">                return &quot;PreGameSettings&quot;;</span>
            }
<span class="nc bnc" id="L59" title="All 2 branches missed.">            if (!buttonCD &amp;&amp;</span>
<span class="nc bnc" id="L60" title="All 2 branches missed.">                textureManager.getcreditsButtonSprite().getBoundingRectangle().contains(</span>
<span class="nc" id="L61">                    new Vector2(mouse.getX(),mouse.getY())</span>
                )) {
<span class="nc" id="L63">                return &quot;Credits&quot;;</span>
            }
<span class="nc bnc" id="L65" title="All 2 branches missed.">            if (!buttonCD &amp;&amp;</span>
<span class="nc bnc" id="L66" title="All 2 branches missed.">                textureManager.getLeaderboardButtonSprite().getBoundingRectangle().contains(</span>
<span class="nc" id="L67">                    new Vector2(mouse.getX(),mouse.getY())</span>
                )) {
<span class="nc" id="L69">                return &quot;Leaderboard&quot;;</span>
            }
<span class="nc bnc" id="L71" title="All 2 branches missed.">            if (!buttonCD &amp;&amp;</span>
<span class="nc bnc" id="L72" title="All 2 branches missed.">                textureManager.getExitButtonSprite().getBoundingRectangle().contains(</span>
<span class="nc" id="L73">                    new Vector2(mouse.getX(),mouse.getY())</span>
                )) {
<span class="nc" id="L75">                Gdx.app.exit();</span>
            }
        }
<span class="nc" id="L78">        if (</span>
<span class="nc bnc" id="L79" title="All 2 branches missed.">                textureManager.getPlayButtonSprite().getBoundingRectangle().contains(</span>
<span class="nc" id="L80">                    new Vector2(mouse.getX(),mouse.getY())</span>
                )) {
<span class="nc" id="L82">                hoveredOver = &quot;Play&quot;;</span>
            }
<span class="nc" id="L84">            if (</span>
<span class="nc bnc" id="L85" title="All 2 branches missed.">                textureManager.getSettingsButtonSprite().getBoundingRectangle().contains(</span>
<span class="nc" id="L86">                    new Vector2(mouse.getX(),mouse.getY())</span>
                )) {
<span class="nc" id="L88">                    hoveredOver = &quot;Settings&quot;;</span>
            }
<span class="nc" id="L90">            if (</span>
<span class="nc bnc" id="L91" title="All 2 branches missed.">                textureManager.getLeaderboardButtonSprite().getBoundingRectangle().contains(</span>
<span class="nc" id="L92">                    new Vector2(mouse.getX(),mouse.getY())</span>
                )) {
<span class="nc" id="L94">                    hoveredOver = &quot;Leaderboard&quot;;</span>
            }
<span class="nc" id="L96">            if (</span>
<span class="nc bnc" id="L97" title="All 2 branches missed.">                textureManager.getExitButtonSprite().getBoundingRectangle().contains(</span>
<span class="nc" id="L98">                    new Vector2(mouse.getX(),mouse.getY())</span>
                )) {
<span class="nc" id="L100">                    hoveredOver = &quot;Exit&quot;;</span>
            }
<span class="nc" id="L102">            if (</span>
<span class="nc bnc" id="L103" title="All 2 branches missed.">                textureManager.getcreditsButtonSprite().getBoundingRectangle().contains(</span>
<span class="nc" id="L104">                    new Vector2(mouse.getX(),mouse.getY())</span>
                )) {
<span class="nc" id="L106">                    hoveredOver = &quot;Credits&quot;;</span>
            }
<span class="nc" id="L108">        return &quot;Main&quot;;</span>
    }


    @Override
    public void draw() {

<span class="nc" id="L115">        ScreenUtils.clear(Color.BLACK);</span>
<span class="nc" id="L116">        viewport.apply();</span>
<span class="nc" id="L117">        batch.setProjectionMatrix(viewport.getCamera().combined);</span>
<span class="nc" id="L118">        batch.begin();</span>
<span class="nc" id="L119">        batch.draw(textureManager.getMenuBackdropSprite(),0,0, 1280, 960);</span>

<span class="nc" id="L121">        batch.draw(textureManager.getMenuText(),100,700, 700, 100);</span>

<span class="nc" id="L123">        textX=textX+acceleration;</span>
<span class="nc" id="L124">        acceleration=acceleration-1;</span>

<span class="nc bnc" id="L126" title="All 2 branches missed.">        if (acceleration&lt;0) {</span>
<span class="nc" id="L127">            acceleration=0;</span>
        }

<span class="nc bnc" id="L130" title="All 2 branches missed.">        if (textX&gt;100) {</span>
<span class="nc" id="L131">            textX=100;</span>
        }

        // im so sorry
<span class="nc bnc" id="L135" title="All 2 branches missed.">        if (hoveredOver.equals(&quot;Play&quot;)) {</span>
<span class="nc" id="L136">            batch.draw(textureManager.getPlayButtonSprite(),textX,500, 700, 100);</span>
<span class="nc" id="L137">        batch.draw(textureManager.getunSettingsButtonSprite(),textX,400, 700, 100);</span>
<span class="nc" id="L138">        batch.draw(textureManager.getunLeaderboardButtonSprite(),textX,300, 700, 100);</span>
<span class="nc" id="L139">        batch.draw(textureManager.getunExitButtonSprite(),textX,100, 700, 100);</span>
<span class="nc" id="L140">        batch.draw(textureManager.getuncreditsButtonSprite(),textX,200, 700, 100);</span>
        }
<span class="nc bnc" id="L142" title="All 2 branches missed.">        else if (hoveredOver.equals(&quot;Leaderboard&quot;)) {</span>
<span class="nc" id="L143">            batch.draw(textureManager.getunPlayButtonSprite(),textX,500, 700, 100);</span>
<span class="nc" id="L144">        batch.draw(textureManager.getunSettingsButtonSprite(),textX,400, 700, 100);</span>
<span class="nc" id="L145">        batch.draw(textureManager.getLeaderboardButtonSprite(),textX,300, 700, 100);</span>
<span class="nc" id="L146">        batch.draw(textureManager.getunExitButtonSprite(),textX,100, 700, 100);</span>
<span class="nc" id="L147">        batch.draw(textureManager.getuncreditsButtonSprite(),textX,200, 700, 100);</span>
        }
<span class="nc bnc" id="L149" title="All 2 branches missed.">        else if (hoveredOver.equals(&quot;Settings&quot;)) {</span>
<span class="nc" id="L150">            batch.draw(textureManager.getunPlayButtonSprite(),textX,500, 700, 100);</span>
<span class="nc" id="L151">        batch.draw(textureManager.getSettingsButtonSprite(),textX,400, 700, 100);</span>
<span class="nc" id="L152">        batch.draw(textureManager.getunLeaderboardButtonSprite(),textX,300, 700, 100);</span>
<span class="nc" id="L153">        batch.draw(textureManager.getunExitButtonSprite(),textX,100, 700, 100);</span>
<span class="nc" id="L154">        batch.draw(textureManager.getuncreditsButtonSprite(),textX,200, 700, 100);</span>
        }
<span class="nc bnc" id="L156" title="All 2 branches missed.">        else if (hoveredOver.equals(&quot;Exit&quot;)) {</span>
<span class="nc" id="L157">            batch.draw(textureManager.getunPlayButtonSprite(),textX,500, 700, 100);</span>
<span class="nc" id="L158">        batch.draw(textureManager.getunSettingsButtonSprite(),textX,400, 700, 100);</span>
<span class="nc" id="L159">        batch.draw(textureManager.getunLeaderboardButtonSprite(),textX,300, 700, 100);</span>
<span class="nc" id="L160">        batch.draw(textureManager.getExitButtonSprite(),textX,100, 700, 100);</span>
<span class="nc" id="L161">        batch.draw(textureManager.getuncreditsButtonSprite(),textX,200, 700, 100);</span>
        }
<span class="nc bnc" id="L163" title="All 2 branches missed.">        else if (hoveredOver.equals(&quot;Credits&quot;)) {</span>
<span class="nc" id="L164">            batch.draw(textureManager.getunPlayButtonSprite(),textX,500, 700, 100);</span>
<span class="nc" id="L165">        batch.draw(textureManager.getunSettingsButtonSprite(),textX,400, 700, 100);</span>
<span class="nc" id="L166">        batch.draw(textureManager.getunLeaderboardButtonSprite(),textX,300, 700, 100);</span>
<span class="nc" id="L167">        batch.draw(textureManager.getunExitButtonSprite(),textX,100, 700, 100);</span>
<span class="nc" id="L168">        batch.draw(textureManager.getcreditsButtonSprite(),textX,200, 700, 100);</span>
        }
        else {
<span class="nc" id="L171">            batch.draw(textureManager.getunPlayButtonSprite(),textX,500, 700, 100);</span>
<span class="nc" id="L172">        batch.draw(textureManager.getunSettingsButtonSprite(),textX,400, 700, 100);</span>
<span class="nc" id="L173">        batch.draw(textureManager.getunLeaderboardButtonSprite(),textX,300, 700, 100);</span>
<span class="nc" id="L174">        batch.draw(textureManager.getunExitButtonSprite(),textX,100, 700, 100);</span>
<span class="nc" id="L175">        batch.draw(textureManager.getuncreditsButtonSprite(),textX,200, 700, 100);</span>
        }





<span class="nc bnc" id="L182" title="All 2 branches missed.">        if (latestScore &gt; -1) {</span>

<span class="nc bnc" id="L184" title="All 2 branches missed.">            if (wonLastGame) {</span>
<span class="nc" id="L185">                textureManager.getMainLayout().setText(textureManager.getMainFont(), &quot;Score: &quot; + latestScore);</span>

<span class="nc" id="L187">                float tempx = (Gdx.graphics.getWidth() - textureManager.getMainLayout().width) / 2f;</span>
<span class="nc" id="L188">                float tempy = 480;</span>

<span class="nc" id="L190">                textureManager.getMainFont().draw(batch, textureManager.getMainLayout(), tempx, tempy);</span>

<span class="nc" id="L192">                textureManager.getMainLayout().setText(textureManager.getMainFont(), &quot;You won!&quot;);</span>

<span class="nc" id="L194">                tempx = (Gdx.graphics.getWidth() - textureManager.getMainLayout().width) / 2f;</span>
<span class="nc" id="L195">                tempy = 640;</span>

<span class="nc" id="L197">                textureManager.getMainFont().draw(batch, textureManager.getMainLayout(), tempx, tempy);</span>
<span class="nc" id="L198">            } else {</span>
<span class="nc" id="L199">                textureManager.getMainLayout().setText(textureManager.getMainFont(), &quot;You lost :(&quot;);</span>

<span class="nc" id="L201">                float tempx = (Gdx.graphics.getWidth() - textureManager.getMainLayout().width) / 2f;</span>
<span class="nc" id="L202">                float tempy = 560;</span>

<span class="nc" id="L204">                textureManager.getMainFont().draw(batch, textureManager.getMainLayout(), tempx, tempy);</span>
            }
        }

<span class="nc" id="L208">        batch.end();</span>
<span class="nc" id="L209">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.13.202504020838</span></div></body></html>